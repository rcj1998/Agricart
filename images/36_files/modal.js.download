//Copyright 2014-2016 Lifter Apps LLC. Unauthorized copying, distribution or modification of this source code is strictly prohibited.
//122716 : Local Storage, Google Optimized, Mobile Targeting
!function(){var e={};e.log=function(){},function(e,t,o,n,i,a,r){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),r=t.getElementsByTagName(o)[0],a.async=1,a.src=n,r.parentNode.insertBefore(a,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),randomSample=Math.floor(10*Math.random()+1),5==randomSample&&(varUID="UA-70562003-2",varShop=Shopify.shop,ga("create",varUID,"auto",{name:"PopUpWindow"}),ga("PopUpWindow.send","event","Script Load Sample 10% popup3.lifterapps Server 2",varShop));var t=function(e,t){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onreadystatechange=null,t())}:o.onload=function(){t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)},o=function(t){function o(e){var t=document.getElementsByTagName("head")[0],o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),t.appendChild(o)}function n(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function i(t){e.log("writeCookie function.");var o=new Date;o.setTime(o.getTime()+60*t*60*1e3);var n=o.toGMTString();document.cookie="modal=noshow;expires="+n+";path=/;"}function a(){e.log("Mobile check function accessed.");var t=!1;return function(e,o){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|android|ipad|playbook|silk|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t}function r(o,n,i){e.log("start of fireModal function"),e.log("TestMode value: "+o),varShop=Shopify.shop,"undefined"!=typeof Storage&&null!=sessionStorage.getItem("puw_varId")&&1!=o?(varId=sessionStorage.getItem("puw_varId"),e.log("Modal id: "+varId),varToggle=sessionStorage.getItem("puw_varToggle"),window.Toggle=sessionStorage.getItem("puw_varToggle"),varPlan=sessionStorage.getItem("puw_varPlan"),window.Plan=sessionStorage.getItem("puw_varPlan"),varExitIntent=sessionStorage.getItem("puw_varExitIntent"),window.ExitIntent=sessionStorage.getItem("puw_varExitIntent"),varHeight=sessionStorage.getItem("puw_varHeight"),varResponsive=sessionStorage.getItem("puw_varResponsive"),varFrequency=sessionStorage.getItem("puw_varFrequency"),window.Frequency=sessionStorage.getItem("puw_varFrequency"),varWidth=sessionStorage.getItem("puw_varWidth"),varDelay=1e3*sessionStorage.getItem("puw_varDelay"),varMobile=sessionStorage.getItem("puw_varMobile"),varGoogle=sessionStorage.getItem("puw_varGoogle"),"true"===window.Toggle&&"false"===varExitIntent&&o!==!0?a()===!0&&"true"==varMobile||a()===!1?(e.log("Regular mode. Call showPopupWindow function after delay."),setTimeout(function(){s(o=!1)},varDelay)):e.log("Mobile turned off and mobile device detected."):e.log("Toggled off or exit intent on."),"true"===varToggle&&"true"===varExitIntent&&o!==!0&&a()===!0&&(e.log("Mobile device with exit intent on, show pop-up"),setTimeout(function(){s(o=!1)},varDelay)),o===!0&&"false"===varExitIntent&&(e.log("Test mode with exit intent off. Show pop-up after delay."),setTimeout(function(){s(o=!0)},varDelay)),o===!0&&"true"===varExitIntent&&a()===!0&&(e.log("Test mode with exit intent on but mobile device. Show pop-up after delay"),setTimeout(function(){s(o=!0)},varDelay))):(e.log("No local storage variables or in test mode. Load from JSON."),t.getJSON("https://popup3.lifterapps.com/modals/json/"+varShop,function(t){varId=t.Modal.id,sessionStorage.setItem("puw_varId",varId),e.log("Modal id: "+varId),varToggle=t.Modal.toggle,sessionStorage.setItem("puw_varToggle",varToggle),window.Toggle=t.Modal.toggle,varPlan=t.User.plan,window.Plan=t.User.plan,sessionStorage.setItem("puw_varPlan",varPlan),varExitIntent=t.Modal.exit_intent,window.ExitIntent=t.Modal.exit_intent,sessionStorage.setItem("puw_varExitIntent",varExitIntent),varHeight=t.Modal.height,sessionStorage.setItem("puw_varHeight",varHeight),varResponsive=t.Modal.responsive,sessionStorage.setItem("puw_varResponsive",varResponsive),varFrequency=t.Modal.frequency,window.Frequency=t.Modal.frequency,sessionStorage.setItem("puw_varFrequency",varFrequency),varWidth=t.Modal.width,sessionStorage.setItem("puw_varWidth",varWidth),varDelay=t.Modal.delay,sessionStorage.setItem("puw_varDelay",varDelay),varDelay=1e3*varDelay,varMobile=t.Modal.show_on_mobile,sessionStorage.setItem("puw_varMobile",varMobile),varGoogle=t.Modal.google_mobile_optimized,sessionStorage.setItem("puw_varGoogle",varGoogle),e.log("Popup settings loaded from JSON."),varToggle===!0&&varExitIntent===!1&&o!==!0?a()===!0&&1==varMobile||a()===!1?(e.log("Regular mode. Call showPopupWindow function after delay."),setTimeout(function(){s(o=!1)},varDelay)):e.log("Mobile turned off and mobile device detected."):e.log("Toggled off or exit intent on."),varToggle===!0&&varExitIntent===!0&&o!==!0&&a()===!0&&(e.log("Mobile device with exit intent on, show pop-up"),setTimeout(function(){s(o=!1)},varDelay)),o===!0&&varExitIntent===!1&&(e.log("Test mode with exit intent off. Show pop-up after delay."),setTimeout(function(){s(o=!0)},varDelay)),o===!0&&varExitIntent===!0&&a()===!0&&(e.log("Test mode with exit intent on but mobile device. Show pop-up after delay"),setTimeout(function(){s(o=!0)},varDelay))}))}function s(n){e.log("Start of showPopupWindow function"),o("https://popup3.lifterapps.com/dependencies/fancybox/fancybox-renamed.css"),e.log("Testing variable passing. Height:"+varHeight),varMobileCheck=a(),e.log("Mobile check"+varMobileCheck),varMobileCheck===!0&&"true"==varGoogle||varMobileCheck===!0&&1==varGoogle?(varTopRatio=.99,varLocked=!1,varBackground="rgba(0, 0, 0, 0.0)"):(varTopRatio=.5,varLocked=!1,varBackground="rgba(0, 0, 0, 0.5)"),e.log("Top ratio"+varTopRatio),1==varResponsive||"true"==varResponsive?(e.log("Responsive pop-up window."),t.fancyboxPop.open({href:"https://popup3.lifterapps.com/modals/view/"+varId+"/"+n,height:varHeight,width:varWidth,aspectRatio:!0,type:"iframe",scrolling:"no",openEffect:"none",openSpeed:0,padding:0,topRatio:varTopRatio,helpers:{overlay:{showEarly:!1,locked:varLocked,css:{overflow:"hidden",background:varBackground}}}})):t.fancyboxPop.open({href:"https://popup3.lifterapps.com/modals/view/"+varId+"/"+n,height:varHeight,width:varWidth,minHeight:varHeight,minWidth:varWidth,type:"iframe",openEffect:"none",openSpeed:0,padding:0,topRatio:varTopRatio,helpers:{overlay:{showEarly:!1,locked:varLocked,css:{overflow:"hidden",background:varBackground}}}}),e.log("Pop-up window opened successfully."),e.log("Test mode: "+n),1!=n&&i(window.Frequency),e.log("listening for post message.");var r=window.addEventListener?"addEventListener":"attachEvent",s=window[r],l="attachEvent"===r?"onmessage":"message";s(l,function(t){e.log("Parent received message: ",t.data),"writeCookie"===t.data&&(i(17520),e.log("Cookie written for parent domain",t.data))},!1)}var l=window.location.hash.substring(1);if("showpopup=true"===l&&(e.log("In test mode, launch pop-up."),r(testMode=!0),window.cookie=!1,window.testMode=!0),"resetpopup=true"===l&&(i(0),window.location.href="http://popup3.lifterapps.com/settings/preview#success"),e.log("Your app is using jQuery version: "+t.fn.jquery),varCookie=n("modal"),"noshow"!==varCookie&&"showpopup=true"!==l&&"resetpopup=true"!==l){e.log("No existing cookie found and not in test mode. Show pop-up."),window.cookie=!1;var p=window.location.pathname;e.log("Url:"+p);var c=p.indexOf("checkouts")>=0;e.log("On order confirmation. Dont show."),c===!1&&(e.log("Not on order confirmation, show pop-up."),r(testMode=!1))}else e.log("Existing cookie found. Don't show pop-up."),window.cookie=!0;!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.ouibounce=t()}(this,function(e,t,o){return function(e,t){function o(e,t){return"undefined"==typeof e?t:e}function n(e){var t=24*e*60*60*1e3,o=new Date;return o.setTime(o.getTime()+t),"; expires="+o.toUTCString()}function i(){P.addEventListener("mouseleave",a),P.addEventListener("mouseenter",r),P.addEventListener("keydown",s)}function a(e){e.clientY>f||l("viewedOuibounceModal","true")&&!h||(b=setTimeout(c,m))}function r(e){b&&(clearTimeout(b),b=null)}function s(e){k||l("viewedOuibounceModal","true")&&!h||e.metaKey&&76===e.keyCode&&(k=!0,b=setTimeout(c,m))}function l(e,t){return p()[e]===t}function p(){for(var e=document.cookie.split("; "),t={},o=e.length-1;o>=0;o--){var n=e[o].split("=");t[n[0]]=n[1]}return t}function c(){d(),v()}function d(){e&&(e.style.display="block"),u()}function u(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(y=n(e.cookieExpire)),e.sitewide===!0&&(x=";path=/"),"undefined"!=typeof e.cookieDomain&&(w=";domain="+e.cookieDomain),document.cookie="viewedOuibounceModal=true"+y+w+x,P.removeEventListener("mouseleave",a),P.removeEventListener("mouseenter",r),P.removeEventListener("keydown",s)}var t=t||{},h=t.aggressive||!1,f=o(t.sensitivity,20),g=o(t.timer,1e3),m=o(t.delay,0),v=t.callback||function(){},y=n(t.cookieExpire)||"",w=t.cookieDomain?";domain="+t.cookieDomain:"",x=t.sitewide===!0?";path=/":"",b=null,P=document.documentElement;setTimeout(i,g);var k=!1;return{fire:d,disable:u}}});ouibounce(document.getElementById("ouibounce-modal"),{aggressive:!0,timer:0,callback:function(){e.log("Exit intent detected 2."),(window.cookie===!1&&window.ExitIntent===!0&&window.Toggle===!0||window.cookie===!1&&"true"===window.ExitIntent&&"true"===window.Toggle)&&(s(testMode=!1),i(window.Frequency),e.log("Show modal from exit intent 2")),window.testMode===!0&&window.ExitIntent===!0||window.testMode===!0&&"true"===window.ExitIntent?s(testMode=!0):e.log("Exit intent turned off or toggled off or existing cookie 2.")}})};"undefined"==typeof jQuery||parseFloat(jQuery.fn.jquery)<1.6?t("//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js",function(){!function(e,t,o,n){"use strict";var i=o("html"),a=o(e),r=o(t),s=o.fancyboxPop=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),p=null,c=t.createTouch!==n,d=function(e){return e&&e.hasOwnProperty&&e instanceof o},u=function(e){return e&&"string"===o.type(e)},h=function(e){return u(e)&&e.indexOf("%")>0},f=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var o=parseInt(e,10)||0;return t&&h(e)&&(o=s.getViewport()[t]/100*o),Math.ceil(o)},m=function(e,t){return g(e,t)+"px"};o.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"hidden",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyboxPop":!0}},iframe:{scrolling:"hidden",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancyboxPop-wrap" tabIndex="-1"><div class="fancyboxPop-skin"><div class="fancyboxPop-outer"><div class="fancyboxPop-inner"></div></div></div></div>',image:'<img class="fancyboxPop-image" src="{href}" alt="" />',iframe:'<iframe id="fancyboxPop-frame{rnd}" name="fancyboxPop-frame{rnd}" class="fancyboxPop-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancyboxPop-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancyboxPop-item fancyboxPop-close-pop" href="javascript:;"></a>',next:'<a title="Next" class="fancyboxPop-nav fancyboxPop-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancyboxPop-nav fancyboxPop-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShow:o.noop,beforeChange:o.noop,beforeClose:o.noop,afterClose:o.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(o.isPlainObject(t)||(t={}),!1!==s.close(!0))?(o.isArray(e)||(e=d(e)?o(e).get():[e]),o.each(e,function(i,a){var r,l,p,c,h,f,g,m={};"object"===o.type(a)&&(a.nodeType&&(a=o(a)),d(a)?(m={href:a.data("fancyboxPop-href")||a.attr("href"),title:a.data("fancyboxPop-title")||a.attr("title"),isDom:!0,element:a},o.metadata&&o.extend(!0,m,a.metadata())):m=a),r=t.href||m.href||(u(a)?a:null),l=t.title!==n?t.title:m.title||"",p=t.content||m.content,c=p?"html":t.type||m.type,!c&&m.isDom&&(c=a.data("fancyboxPop-type"),c||(h=a.prop("class").match(/fancyboxPop\.(\w+)/),c=h?h[1]:null)),u(r)&&(c||(s.isImage(r)?c="image":s.isSWF(r)?c="swf":"#"===r.charAt(0)?c="inline":u(a)&&(c="html",p=a)),"ajax"===c&&(f=r.split(/\s+/,2),r=f.shift(),g=f.shift())),p||("inline"===c?r?p=o(u(r)?r.replace(/.*(?=#[^\s]+$)/,""):r):m.isDom&&(p=a):"html"===c?p=r:c||r||!m.isDom||(c="inline",p=a)),o.extend(m,{href:r,type:c,content:p,title:l,selector:g}),e[i]=m}),s.opts=o.extend(!0,{},s.defaults,t),t.keys!==n&&(s.opts.keys=t.keys?o.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):n},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&e!==!0?(s.isOpen=s.isOpened=!1,s.isClosing=!0,o(".fancyboxPop-item, .fancyboxPop-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancyboxPop-opened"),s.transitions[s.current.closeMethod]()):(o(".fancyboxPop-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},o=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},n=function(){t(),r.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")},i=function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":o,"beforeLoad.player":t}),o(),s.trigger("onPlayStart"))};e===!0||!s.player.isActive&&e!==!1?i():n()},next:function(e){var t=s.current;t&&(u(e)||(e=t.direction.next),s.jumpto(t.index+1,e,"next"))},prev:function(e){var t=s.current;t&&(u(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,o){var i=s.current;i&&(e=g(e),s.direction=t||i.direction[e<i.index?"prev":"next"],s.router=o||"jumpto",i.loop&&(0>e&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==n&&(s.cancel(),s._start(e)))},reposition:function(e,t){var n,i=s.current,a=i?i.wrap:null;a&&(n=s._getPosition(t),e&&"scroll"===e.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),i.pos=o.extend({},i.dim,n)))},update:function(e){var t=e&&e.type,o=!t||"orientationchange"===t;o&&(clearTimeout(p),p=null),s.isOpen&&!p&&(p=setTimeout(function(){var n=s.current;n&&!s.isClosing&&(s.wrap.removeClass("fancyboxPop-tmp"),(o||"load"===t||"resize"===t&&n.autoResize)&&s._setDimension(),"scroll"===t&&n.canShrink||s.reposition(e),s.trigger("onUpdate"),p=null)},o&&!c?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView="boolean"===o.type(e)?e:!s.current.fitToView,c&&(s.wrap.removeAttr("style").addClass("fancyboxPop-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){r.unbind(".loading"),o("#fancyboxPop-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=o('<div id="fancyboxPop-loading"><div></div></div>').click(s.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,o={x:a.scrollLeft(),y:a.scrollTop()};return t?(o.w=t[0].clientWidth,o.h=t[0].clientHeight):(o.w=c&&e.innerWidth?e.innerWidth:a.width(),o.h=c&&e.innerHeight?e.innerHeight:a.height()),o},unbindEvents:function(){s.wrap&&d(s.wrap)&&s.wrap.unbind(".fb"),r.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,t=s.current;t&&(a.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),e=t.keys,e&&r.bind("keydown.fb",function(i){var a=i.which||i.keyCode,r=i.target||i.srcElement;return 27===a&&s.coming?!1:(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||r&&(r.type||o(r).is("[contenteditable]"))||o.each(e,function(e,r){return t.group.length>1&&r[a]!==n?(s[e](r[a]),i.preventDefault(),!1):o.inArray(a,r)>-1?(s[e](),i.preventDefault(),!1):n}),n)}),o.fn.mousewheel&&t.mouseWheel&&s.wrap.bind("mousewheel.fb",function(e,n,i,a){for(var r=e.target||null,l=o(r),p=!1;l.length&&!(p||l.is(".fancyboxPop-skin")||l.is(".fancyboxPop-wrap"));)p=f(l[0]),l=o(l).parent();0===n||p||s.group.length>1&&!t.canShrink&&(a>0||i>0?s.prev(a>0?"down":"left"):(0>a||0>i)&&s.next(0>a?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,i=t||s.coming||s.current;if(i){if(o.isFunction(i[e])&&(n=i[e].apply(i,Array.prototype.slice.call(arguments,1))),n===!1)return!1;i.helpers&&o.each(i.helpers,function(t,n){n&&s.helpers[t]&&o.isFunction(s.helpers[t][e])&&s.helpers[t][e](o.extend(!0,{},s.helpers[t].defaults,n),i)}),r.trigger(e)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,a,r,l,p={};if(e=g(e),t=s.group[e]||null,!t)return!1;if(p=o.extend(!0,{},s.opts,t),r=p.margin,l=p.padding,"number"===o.type(r)&&(p.margin=[r,r,r,r]),"number"===o.type(l)&&(p.padding=[l,l,l,l]),p.modal&&o.extend(!0,p,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),p.autoSize&&(p.autoWidth=p.autoHeight=!0),"auto"===p.width&&(p.autoWidth=!0),"auto"===p.height&&(p.autoHeight=!0),p.group=s.group,p.index=e,s.coming=p,!1===s.trigger("beforeLoad"))return s.coming=null,n;if(a=p.type,i=p.href,!a)return s.coming=null,s.current&&s.router&&"jumpto"!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,("image"===a||"swf"===a)&&(p.autoHeight=p.autoWidth=!1,p.scrolling="hidden"),"image"===a&&(p.aspectRatio=!0),"iframe"===a&&c&&(p.scrolling="hidden"),p.wrap=o(p.tpl.wrap).addClass("fancyboxPop-"+(c?"mobile":"desktop")+" fancyboxPop-type-"+a+" fancyboxPop-tmp "+p.wrapCSS).appendTo(p.parent||"body"),o.extend(p,{skin:o(".fancyboxPop-skin",p.wrap),outer:o(".fancyboxPop-outer",p.wrap),inner:o(".fancyboxPop-inner",p.wrap)}),o.each(["Top","Right","Bottom","Left"],function(e,t){p.skin.css("padding"+t,m(p.padding[e]))}),s.trigger("onReady"),"inline"===a||"html"===a){if(!p.content||!p.content.length)return s._error("content")}else if(!i)return s._error("href");"image"===a?s._loadImage():"ajax"===a?s._loadAjax():"iframe"===a?s._loadIframe():s._afterLoad()},_error:function(e){o.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,e.complete!==!0&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=o.ajax(o.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(t,o){"success"===o&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=o(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":e.iframe.scrolling).attr("src",e.href);o(e.wrap).bind("onReset",function(){try{o(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one("load",function(){o(this).data("ready",1),c||o(this).bind("load.fb",s.update),o(this).parents(".fancyboxPop-wrap").width("100%").removeClass("fancyboxPop-tmp").show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,o=s.group,n=s.current,i=o.length,a=n.preload?Math.min(n.preload,i-1):0;for(t=1;a>=t;t+=1)e=o[(n.index+t)%i],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,a,r,l,p=s.coming,c=s.current,u="fancyboxPop-placeholder";if(s.hideLoading(),p&&s.isActive!==!1){if(!1===s.trigger("afterLoad",p,c))return p.wrap.stop(!0).trigger("onReset").remove(),s.coming=null,n;switch(c&&(s.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancyboxPop-opened").find(".fancyboxPop-item, .fancyboxPop-nav").remove()),s.unbindEvents(),e=p,t=p.content,i=p.type,a=p.scrolling,o.extend(s,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),r=e.href,i){case"inline":case"ajax":case"html":e.selector?t=o("<div>").html(t).find(e.selector):d(t)&&(t.data(u)||t.data(u,o('<div class="'+u+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){o(this).find(t).length&&t.hide().replaceAll(t.data(u)).data(u,!1)}));break;case"image":t=e.tpl.image.replace("{href}",r);break;case"swf":t='<object id="fancyboxPop-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',l="",o.each(e.swf,function(e,o){t+='<param name="'+e+'" value="'+o+'"></param>',l+=" "+e+'="'+o+'"'}),t+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}d(t)&&t.parent().is(e.inner)||e.inner.append(t),s.trigger("beforeShow"),e.inner.css("overflow","yes"===a?"hidden":"no"===a?"hidden":a),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?c.prevMethod&&s.transitions[c.prevMethod]():o(".fancyboxPop-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?e.nextMethod:e.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,n,i,a,r,l,p,c,d,u,f,v,y,w,x=s.getViewport(),b=0,P=!1,k=!1,C=s.wrap,S=s.skin,T=s.inner,E=s.current,_=E.width,I=E.height,M=E.minWidth,W=E.minHeight,O=E.maxWidth,j=E.maxHeight,L=E.scrolling,R=E.scrollOutside?E.scrollbarWidth:0,H=E.margin,D=g(H[1]+H[3]),A=g(H[0]+H[2]);if(C.add(S).add(T).width("auto").height("auto").removeClass("fancyboxPop-tmp"),e=g(S.outerWidth(!0)-S.width()),t=g(S.outerHeight(!0)-S.height()),n=D+e,i=A+t,a=h(_)?(x.w-n)*g(_)/100:_,r=h(I)?(x.h-i)*g(I)/100:I,"iframe"===E.type){if(y=E.content,E.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(T.width(a).height(9999),w=y.contents().find("body"),R&&w.css("overflow-x","hidden"),r=w.outerHeight(!0))}catch(z){}}else(E.autoWidth||E.autoHeight)&&(T.addClass("fancyboxPop-tmp"),E.autoWidth||T.width(a),E.autoHeight||T.height(r),E.autoWidth&&(a=T.width()),E.autoHeight&&(r=T.height()),T.removeClass("fancyboxPop-tmp"));if(_=g(a),I=g(r),c=a/r,M=g(h(M)?g(M,"w")-n:M),O=g(h(O)?g(O,"w")-n:O),W=g(h(W)?g(W,"h")-i:W),j=g(h(j)?g(j,"h")-i:j),l=O,p=j,E.fitToView&&(O=Math.min(x.w-n,O),j=Math.min(x.h-i,j)),f=x.w-D,v=x.h-A,E.aspectRatio?(_>O&&(_=O,I=g(_/c)),I>j&&(I=j,_=g(I*c)),M>_&&(_=M,I=g(_/c)),W>I&&(I=W,_=g(I*c))):(_=Math.max(M,Math.min(_,O)),E.autoHeight&&"iframe"!==E.type&&(T.width(_),I=T.height()),I=Math.max(W,Math.min(I,j))),E.fitToView)if(T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height(),E.aspectRatio)for(;(d>f||u>v)&&_>M&&I>W&&b++<=19;)I=Math.max(W,Math.min(j,I-10)),_=g(I*c),M>_&&(_=M,I=g(_/c)),_>O&&(_=O,I=g(_/c)),T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height();else _=Math.max(M,Math.min(_,_-(d-f))),I=Math.max(W,Math.min(I,I-(u-v)));R&&"auto"===L&&r>I&&f>_+e+R&&(_+=R),T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height(),P=(d>f||u>v)&&_>M&&I>W,k=E.aspectRatio?l>_&&p>I&&a>_&&r>I:(l>_||p>I)&&(a>_||r>I),o.extend(E,{dim:{width:m(d),height:m(u)},origWidth:a,origHeight:r,canShrink:P,canExpand:k,wPadding:e,hPadding:t,wrapSpace:u-S.outerHeight(!0),skinSpace:S.height()-I}),!y&&E.autoHeight&&I>W&&j>I&&!k&&T.height("auto")},_getPosition:function(e){var t=s.current,o=s.getViewport(),n=t.margin,i=s.wrap.width()+n[1]+n[3],a=s.wrap.height()+n[0]+n[2],r={position:"absolute",top:n[0],left:n[3]};return!t.autoCenter||!t.fixed||e||a>o.h||i>o.w?t.locked||(r.top+=o.y,r.left+=o.x):r.position="fixed",r.top=m(Math.max(r.top,r.top+(o.h-a)*t.topRatio)),r.left=m(Math.max(r.left,r.left+(o.w-i)*t.leftRatio)),r},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancyboxPop-opened"),s.update(),(e.closeClick||e.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(t){o(t.target).is("a")||o(t.target).parent().is("a")||(t.preventDefault(),s[e.closeClick?"close":"next"]())}),e.closeBtn&&o(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(e){e.preventDefault(),s.close()}),e.arrows&&s.group.length>1&&((e.loop||e.index>0)&&o(e.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&o(e.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,o(".fancyboxPop-wrap").trigger("onReset").remove(),o.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,o=e.orig,n={},i=50,a=50,r=e.hPadding,l=e.wPadding,p=s.getViewport();return!o&&e.isDom&&t.is(":visible")&&(o=t.find("img:first"),o.length||(o=t)),d(o)?(n=o.offset(),o.is("img")&&(i=o.outerWidth(),a=o.outerHeight())):(n.top=p.y+(p.h-a)*e.topRatio,n.left=p.x+(p.w-i)*e.leftRatio),("fixed"===s.wrap.css("position")||e.locked)&&(n.top-=p.y,n.left-=p.x),n={top:m(n.top-r*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(i+l),height:m(a+r)}},step:function(e,t){var o,n,i,a=t.prop,r=s.current,l=r.wrapSpace,p=r.skinSpace;("width"===a||"height"===a)&&(o=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(o=1-o),n="width"===a?r.wPadding:r.hPadding,i=e-n,s.skin[a](g("width"===a?i:i-l*o)),s.inner[a](g("width"===a?i:i-l*o-p*o)))},zoomIn:function(){var e=s.current,t=e.pos,n=e.openEffect,i="elastic"===n,a=o.extend({opacity:1},t);delete a.position,i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),s.wrap.css(t).animate(a,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,o="elastic"===t,n={opacity:.1};o&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),s.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:o?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,o=t.nextEffect,n=t.pos,i={opacity:1},a=s.direction,r=200;n.opacity=.1,"elastic"===o&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[e]=m(g(n[e])-r),i[e]="+="+r+"px"):(n[e]=m(g(n[e])+r),i[e]="-="+r+"px")),"none"===o?s._afterZoomIn():s.wrap.css(n).animate(i,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,n={opacity:.1},i=s.direction,a=200;"elastic"===t&&(n["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"="+a+"px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){o(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:o("html"),create:function(e){e=o.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=o('<div class="fancyboxPop-overlay"></div>').appendTo(s.coming?s.coming.parent:e.parent),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancyboxPop-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=o.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",o.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return o(e.target).hasClass("fancyboxPop-overlay")?(s.isActive?s.close():t.close(),!1):n}),this.overlay.css(e.css).show()},close:function(){o('link[rel=stylesheet][href~="http://www.liftyapps.com/dependencies/fancyboxPop/fancyboxPop.css"]').remove(),o('link[rel=stylesheet][href~="http://popup3.lifterapps.com/dependencies/fancyboxPop/fancyboxPop.css"]').remove();var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancyboxPop-lock")&&(o(".fancyboxPop-margin").removeClass("fancyboxPop-margin"),
e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancyboxPop-lock"),a.scrollTop(e).scrollLeft(t)),o(".fancyboxPop-overlay").remove().hide(),o.extend(this,{overlay:null,fixed:!1})},update:function(){var e,o="100%";this.overlay.width(o).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(o=r.width())):r.width()>a.width()&&(o=r.width()),this.overlay.width(o).height(r.height())},onReady:function(e,t){var n=this.overlay;o(".fancyboxPop-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=r.height()>a.height()?o("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,i;t.locked&&(this.margin!==!1&&(o("*").filter(function(){return"fixed"===o(this).css("position")&&!o(this).hasClass("fancyboxPop-overlay")&&!o(this).hasClass("fancyboxPop-wrap")}).addClass("fancyboxPop-margin"),this.el.addClass("fancyboxPop-margin")),n=a.scrollTop(),i=a.scrollLeft(),this.el.addClass("fancyboxPop-lock"),a.scrollTop(n).scrollLeft(i)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.coming&&this.overlay.fadeOut(e.speedOut,o.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,n,i=s.current,a=i.title,r=e.type;if(o.isFunction(a)&&(a=a.call(i.element,i)),u(a)&&""!==o.trim(a)){switch(t=o('<div class="fancyboxPop-title fancyboxPop-title-'+r+'-wrap">'+a+"</div>"),r){case"inside":n=s.skin;break;case"outside":n=s.wrap;break;case"over":n=s.inner;break;default:n=s.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(g(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},o.fn.fancyboxPop=function(e){var t,n=o(this),i=this.selector||"",a=function(a){var r,l,p=o(this).blur(),c=t;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||p.is(".fancyboxPop-wrap")||(r=e.groupAttr||"data-fancyboxPop-group",l=p.attr(r),l||(r="rel",l=p.get(0)[r]),l&&""!==l&&"nofollow"!==l&&(p=i.length?o(i):n,p=p.filter("["+r+'="'+l+'"]'),c=p.index(this)),e.index=c,s.open(p,e)!==!1&&a.preventDefault())};return e=e||{},t=e.index||0,i&&e.live!==!1?r.undelegate(i,"click.fb-start").delegate(i+":not('.fancyboxPop-item, .fancyboxPop-nav')","click.fb-start",a):n.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancyboxPop-start=1]").trigger("click"),this},r.ready(function(){var t,a;o.scrollbarWidth===n&&(o.scrollbarWidth=function(){var e=o('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),o.support.fixedPosition===n&&(o.support.fixedPosition=function(){var e=o('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),o.extend(s.defaults,{scrollbarWidth:o.scrollbarWidth(),fixed:o.support.fixedPosition,parent:o("body")}),t=o(e).width(),i.addClass("fancyboxPop-lock-test"),a=o(e).width(),i.removeClass("fancyboxPop-lock-test"),o("<style type='text/css'>.fancyboxPop-margin{margin-right:"+(a-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),e.log("load jquery true"),jQuery191=jQuery.noConflict(!0),o(jQuery191)}):(e.log("dont load jquery, proceed to main script"),!function(e,t,o,n){"use strict";var i=o("html"),a=o(e),r=o(t),s=o.fancyboxPop=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),p=null,c=t.createTouch!==n,d=function(e){return e&&e.hasOwnProperty&&e instanceof o},u=function(e){return e&&"string"===o.type(e)},h=function(e){return u(e)&&e.indexOf("%")>0},f=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var o=parseInt(e,10)||0;return t&&h(e)&&(o=s.getViewport()[t]/100*o),Math.ceil(o)},m=function(e,t){return g(e,t)+"px"};o.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"hidden",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyboxPop":!0}},iframe:{scrolling:"hidden",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancyboxPop-wrap" tabIndex="-1"><div class="fancyboxPop-skin"><div class="fancyboxPop-outer"><div class="fancyboxPop-inner"></div></div></div></div>',image:'<img class="fancyboxPop-image" src="{href}" alt="" />',iframe:'<iframe id="fancyboxPop-frame{rnd}" name="fancyboxPop-frame{rnd}" class="fancyboxPop-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancyboxPop-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancyboxPop-item fancyboxPop-close-pop" href="javascript:;"></a>',next:'<a title="Next" class="fancyboxPop-nav fancyboxPop-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancyboxPop-nav fancyboxPop-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShow:o.noop,beforeChange:o.noop,beforeClose:o.noop,afterClose:o.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(o.isPlainObject(t)||(t={}),!1!==s.close(!0))?(o.isArray(e)||(e=d(e)?o(e).get():[e]),o.each(e,function(i,a){var r,l,p,c,h,f,g,m={};"object"===o.type(a)&&(a.nodeType&&(a=o(a)),d(a)?(m={href:a.data("fancyboxPop-href")||a.attr("href"),title:a.data("fancyboxPop-title")||a.attr("title"),isDom:!0,element:a},o.metadata&&o.extend(!0,m,a.metadata())):m=a),r=t.href||m.href||(u(a)?a:null),l=t.title!==n?t.title:m.title||"",p=t.content||m.content,c=p?"html":t.type||m.type,!c&&m.isDom&&(c=a.data("fancyboxPop-type"),c||(h=a.prop("class").match(/fancyboxPop\.(\w+)/),c=h?h[1]:null)),u(r)&&(c||(s.isImage(r)?c="image":s.isSWF(r)?c="swf":"#"===r.charAt(0)?c="inline":u(a)&&(c="html",p=a)),"ajax"===c&&(f=r.split(/\s+/,2),r=f.shift(),g=f.shift())),p||("inline"===c?r?p=o(u(r)?r.replace(/.*(?=#[^\s]+$)/,""):r):m.isDom&&(p=a):"html"===c?p=r:c||r||!m.isDom||(c="inline",p=a)),o.extend(m,{href:r,type:c,content:p,title:l,selector:g}),e[i]=m}),s.opts=o.extend(!0,{},s.defaults,t),t.keys!==n&&(s.opts.keys=t.keys?o.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):n},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&e!==!0?(s.isOpen=s.isOpened=!1,s.isClosing=!0,o(".fancyboxPop-item, .fancyboxPop-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancyboxPop-opened"),s.transitions[s.current.closeMethod]()):(o(".fancyboxPop-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},o=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},n=function(){t(),r.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")},i=function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":o,"beforeLoad.player":t}),o(),s.trigger("onPlayStart"))};e===!0||!s.player.isActive&&e!==!1?i():n()},next:function(e){var t=s.current;t&&(u(e)||(e=t.direction.next),s.jumpto(t.index+1,e,"next"))},prev:function(e){var t=s.current;t&&(u(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,o){var i=s.current;i&&(e=g(e),s.direction=t||i.direction[e<i.index?"prev":"next"],s.router=o||"jumpto",i.loop&&(0>e&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==n&&(s.cancel(),s._start(e)))},reposition:function(e,t){var n,i=s.current,a=i?i.wrap:null;a&&(n=s._getPosition(t),e&&"scroll"===e.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),i.pos=o.extend({},i.dim,n)))},update:function(e){var t=e&&e.type,o=!t||"orientationchange"===t;o&&(clearTimeout(p),p=null),s.isOpen&&!p&&(p=setTimeout(function(){var n=s.current;n&&!s.isClosing&&(s.wrap.removeClass("fancyboxPop-tmp"),(o||"load"===t||"resize"===t&&n.autoResize)&&s._setDimension(),"scroll"===t&&n.canShrink||s.reposition(e),s.trigger("onUpdate"),p=null)},o&&!c?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView="boolean"===o.type(e)?e:!s.current.fitToView,c&&(s.wrap.removeAttr("style").addClass("fancyboxPop-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){r.unbind(".loading"),o("#fancyboxPop-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=o('<div id="fancyboxPop-loading"><div></div></div>').click(s.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,o={x:a.scrollLeft(),y:a.scrollTop()};return t?(o.w=t[0].clientWidth,o.h=t[0].clientHeight):(o.w=c&&e.innerWidth?e.innerWidth:a.width(),o.h=c&&e.innerHeight?e.innerHeight:a.height()),o},unbindEvents:function(){s.wrap&&d(s.wrap)&&s.wrap.unbind(".fb"),r.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,t=s.current;t&&(a.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),e=t.keys,e&&r.bind("keydown.fb",function(i){var a=i.which||i.keyCode,r=i.target||i.srcElement;return 27===a&&s.coming?!1:(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||r&&(r.type||o(r).is("[contenteditable]"))||o.each(e,function(e,r){return t.group.length>1&&r[a]!==n?(s[e](r[a]),i.preventDefault(),!1):o.inArray(a,r)>-1?(s[e](),i.preventDefault(),!1):n}),n)}),o.fn.mousewheel&&t.mouseWheel&&s.wrap.bind("mousewheel.fb",function(e,n,i,a){for(var r=e.target||null,l=o(r),p=!1;l.length&&!(p||l.is(".fancyboxPop-skin")||l.is(".fancyboxPop-wrap"));)p=f(l[0]),l=o(l).parent();0===n||p||s.group.length>1&&!t.canShrink&&(a>0||i>0?s.prev(a>0?"down":"left"):(0>a||0>i)&&s.next(0>a?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,i=t||s.coming||s.current;if(i){if(o.isFunction(i[e])&&(n=i[e].apply(i,Array.prototype.slice.call(arguments,1))),n===!1)return!1;i.helpers&&o.each(i.helpers,function(t,n){n&&s.helpers[t]&&o.isFunction(s.helpers[t][e])&&s.helpers[t][e](o.extend(!0,{},s.helpers[t].defaults,n),i)}),r.trigger(e)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,a,r,l,p={};if(e=g(e),t=s.group[e]||null,!t)return!1;if(p=o.extend(!0,{},s.opts,t),r=p.margin,l=p.padding,"number"===o.type(r)&&(p.margin=[r,r,r,r]),"number"===o.type(l)&&(p.padding=[l,l,l,l]),p.modal&&o.extend(!0,p,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),p.autoSize&&(p.autoWidth=p.autoHeight=!0),"auto"===p.width&&(p.autoWidth=!0),"auto"===p.height&&(p.autoHeight=!0),p.group=s.group,p.index=e,s.coming=p,!1===s.trigger("beforeLoad"))return s.coming=null,n;if(a=p.type,i=p.href,!a)return s.coming=null,s.current&&s.router&&"jumpto"!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,("image"===a||"swf"===a)&&(p.autoHeight=p.autoWidth=!1,p.scrolling="hidden"),"image"===a&&(p.aspectRatio=!0),"iframe"===a&&c&&(p.scrolling="hidden"),p.wrap=o(p.tpl.wrap).addClass("fancyboxPop-"+(c?"mobile":"desktop")+" fancyboxPop-type-"+a+" fancyboxPop-tmp "+p.wrapCSS).appendTo(p.parent||"body"),o.extend(p,{skin:o(".fancyboxPop-skin",p.wrap),outer:o(".fancyboxPop-outer",p.wrap),inner:o(".fancyboxPop-inner",p.wrap)}),o.each(["Top","Right","Bottom","Left"],function(e,t){p.skin.css("padding"+t,m(p.padding[e]))}),s.trigger("onReady"),"inline"===a||"html"===a){if(!p.content||!p.content.length)return s._error("content")}else if(!i)return s._error("href");"image"===a?s._loadImage():"ajax"===a?s._loadAjax():"iframe"===a?s._loadIframe():s._afterLoad()},_error:function(e){o.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,e.complete!==!0&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=o.ajax(o.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(t,o){"success"===o&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=o(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":e.iframe.scrolling).attr("src",e.href);o(e.wrap).bind("onReset",function(){try{o(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one("load",function(){o(this).data("ready",1),c||o(this).bind("load.fb",s.update),o(this).parents(".fancyboxPop-wrap").width("100%").removeClass("fancyboxPop-tmp").show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,o=s.group,n=s.current,i=o.length,a=n.preload?Math.min(n.preload,i-1):0;for(t=1;a>=t;t+=1)e=o[(n.index+t)%i],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,a,r,l,p=s.coming,c=s.current,u="fancyboxPop-placeholder";if(s.hideLoading(),p&&s.isActive!==!1){if(!1===s.trigger("afterLoad",p,c))return p.wrap.stop(!0).trigger("onReset").remove(),s.coming=null,n;switch(c&&(s.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancyboxPop-opened").find(".fancyboxPop-item, .fancyboxPop-nav").remove()),s.unbindEvents(),e=p,t=p.content,i=p.type,a=p.scrolling,o.extend(s,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),r=e.href,i){case"inline":case"ajax":case"html":e.selector?t=o("<div>").html(t).find(e.selector):d(t)&&(t.data(u)||t.data(u,o('<div class="'+u+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){o(this).find(t).length&&t.hide().replaceAll(t.data(u)).data(u,!1)}));break;case"image":t=e.tpl.image.replace("{href}",r);break;case"swf":t='<object id="fancyboxPop-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',l="",o.each(e.swf,function(e,o){t+='<param name="'+e+'" value="'+o+'"></param>',l+=" "+e+'="'+o+'"'}),t+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}d(t)&&t.parent().is(e.inner)||e.inner.append(t),s.trigger("beforeShow"),e.inner.css("overflow","yes"===a?"hidden":"no"===a?"hidden":a),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?c.prevMethod&&s.transitions[c.prevMethod]():o(".fancyboxPop-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?e.nextMethod:e.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,n,i,a,r,l,p,c,d,u,f,v,y,w,x=s.getViewport(),b=0,P=!1,k=!1,C=s.wrap,S=s.skin,T=s.inner,E=s.current,_=E.width,I=E.height,M=E.minWidth,W=E.minHeight,O=E.maxWidth,j=E.maxHeight,L=E.scrolling,R=E.scrollOutside?E.scrollbarWidth:0,H=E.margin,D=g(H[1]+H[3]),A=g(H[0]+H[2]);if(C.add(S).add(T).width("auto").height("auto").removeClass("fancyboxPop-tmp"),e=g(S.outerWidth(!0)-S.width()),t=g(S.outerHeight(!0)-S.height()),n=D+e,i=A+t,a=h(_)?(x.w-n)*g(_)/100:_,r=h(I)?(x.h-i)*g(I)/100:I,"iframe"===E.type){if(y=E.content,E.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(T.width(a).height(9999),w=y.contents().find("body"),R&&w.css("overflow-x","hidden"),r=w.outerHeight(!0))}catch(z){}}else(E.autoWidth||E.autoHeight)&&(T.addClass("fancyboxPop-tmp"),E.autoWidth||T.width(a),E.autoHeight||T.height(r),E.autoWidth&&(a=T.width()),E.autoHeight&&(r=T.height()),T.removeClass("fancyboxPop-tmp"));if(_=g(a),I=g(r),c=a/r,M=g(h(M)?g(M,"w")-n:M),O=g(h(O)?g(O,"w")-n:O),W=g(h(W)?g(W,"h")-i:W),j=g(h(j)?g(j,"h")-i:j),l=O,p=j,E.fitToView&&(O=Math.min(x.w-n,O),j=Math.min(x.h-i,j)),f=x.w-D,v=x.h-A,E.aspectRatio?(_>O&&(_=O,I=g(_/c)),I>j&&(I=j,_=g(I*c)),M>_&&(_=M,I=g(_/c)),W>I&&(I=W,_=g(I*c))):(_=Math.max(M,Math.min(_,O)),E.autoHeight&&"iframe"!==E.type&&(T.width(_),I=T.height()),I=Math.max(W,Math.min(I,j))),E.fitToView)if(T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height(),E.aspectRatio)for(;(d>f||u>v)&&_>M&&I>W&&b++<=19;)I=Math.max(W,Math.min(j,I-10)),_=g(I*c),M>_&&(_=M,I=g(_/c)),_>O&&(_=O,I=g(_/c)),T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height();else _=Math.max(M,Math.min(_,_-(d-f))),I=Math.max(W,Math.min(I,I-(u-v)));R&&"auto"===L&&r>I&&f>_+e+R&&(_+=R),T.width(_).height(I),C.width(_+e),d=C.width(),u=C.height(),P=(d>f||u>v)&&_>M&&I>W,k=E.aspectRatio?l>_&&p>I&&a>_&&r>I:(l>_||p>I)&&(a>_||r>I),o.extend(E,{dim:{width:m(d),height:m(u)},origWidth:a,origHeight:r,canShrink:P,canExpand:k,wPadding:e,hPadding:t,wrapSpace:u-S.outerHeight(!0),skinSpace:S.height()-I}),!y&&E.autoHeight&&I>W&&j>I&&!k&&T.height("auto")},_getPosition:function(e){var t=s.current,o=s.getViewport(),n=t.margin,i=s.wrap.width()+n[1]+n[3],a=s.wrap.height()+n[0]+n[2],r={position:"absolute",top:n[0],left:n[3]};return!t.autoCenter||!t.fixed||e||a>o.h||i>o.w?t.locked||(r.top+=o.y,r.left+=o.x):r.position="fixed",r.top=m(Math.max(r.top,r.top+(o.h-a)*t.topRatio)),r.left=m(Math.max(r.left,r.left+(o.w-i)*t.leftRatio)),r},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancyboxPop-opened"),s.update(),(e.closeClick||e.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(t){o(t.target).is("a")||o(t.target).parent().is("a")||(t.preventDefault(),s[e.closeClick?"close":"next"]())}),e.closeBtn&&o(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(e){e.preventDefault(),s.close()}),e.arrows&&s.group.length>1&&((e.loop||e.index>0)&&o(e.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&o(e.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,o(".fancyboxPop-wrap").trigger("onReset").remove(),o.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,o=e.orig,n={},i=50,a=50,r=e.hPadding,l=e.wPadding,p=s.getViewport();return!o&&e.isDom&&t.is(":visible")&&(o=t.find("img:first"),o.length||(o=t)),d(o)?(n=o.offset(),o.is("img")&&(i=o.outerWidth(),a=o.outerHeight())):(n.top=p.y+(p.h-a)*e.topRatio,n.left=p.x+(p.w-i)*e.leftRatio),("fixed"===s.wrap.css("position")||e.locked)&&(n.top-=p.y,n.left-=p.x),n={top:m(n.top-r*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(i+l),height:m(a+r)}},step:function(e,t){var o,n,i,a=t.prop,r=s.current,l=r.wrapSpace,p=r.skinSpace;("width"===a||"height"===a)&&(o=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(o=1-o),n="width"===a?r.wPadding:r.hPadding,i=e-n,s.skin[a](g("width"===a?i:i-l*o)),s.inner[a](g("width"===a?i:i-l*o-p*o)))},zoomIn:function(){var e=s.current,t=e.pos,n=e.openEffect,i="elastic"===n,a=o.extend({opacity:1},t);delete a.position,i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),s.wrap.css(t).animate(a,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,o="elastic"===t,n={opacity:.1};o&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),s.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:o?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,o=t.nextEffect,n=t.pos,i={opacity:1},a=s.direction,r=200;n.opacity=.1,"elastic"===o&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[e]=m(g(n[e])-r),i[e]="+="+r+"px"):(n[e]=m(g(n[e])+r),i[e]="-="+r+"px")),"none"===o?s._afterZoomIn():s.wrap.css(n).animate(i,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,n={opacity:.1},i=s.direction,a=200;"elastic"===t&&(n["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"="+a+"px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){o(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:o("html"),create:function(e){e=o.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=o('<div class="fancyboxPop-overlay"></div>').appendTo(s.coming?s.coming.parent:e.parent),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancyboxPop-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=o.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",o.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return o(e.target).hasClass("fancyboxPop-overlay")?(s.isActive?s.close():t.close(),!1):n}),this.overlay.css(e.css).show()},close:function(){o('link[rel=stylesheet][href~="http://www.liftyapps.com/dependencies/fancyboxPop/fancyboxPop.css"]').remove(),o('link[rel=stylesheet][href~="http://popup3.lifterapps.com/dependencies/fancyboxPop/fancyboxPop.css"]').remove();var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancyboxPop-lock")&&(o(".fancyboxPop-margin").removeClass("fancyboxPop-margin"),e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancyboxPop-lock"),a.scrollTop(e).scrollLeft(t)),o(".fancyboxPop-overlay").remove().hide(),o.extend(this,{overlay:null,fixed:!1})},update:function(){var e,o="100%";this.overlay.width(o).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(o=r.width())):r.width()>a.width()&&(o=r.width()),this.overlay.width(o).height(r.height())},onReady:function(e,t){var n=this.overlay;o(".fancyboxPop-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=r.height()>a.height()?o("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,i;t.locked&&(this.margin!==!1&&(o("*").filter(function(){return"fixed"===o(this).css("position")&&!o(this).hasClass("fancyboxPop-overlay")&&!o(this).hasClass("fancyboxPop-wrap")}).addClass("fancyboxPop-margin"),this.el.addClass("fancyboxPop-margin")),n=a.scrollTop(),i=a.scrollLeft(),this.el.addClass("fancyboxPop-lock"),a.scrollTop(n).scrollLeft(i)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.coming&&this.overlay.fadeOut(e.speedOut,o.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,n,i=s.current,a=i.title,r=e.type;if(o.isFunction(a)&&(a=a.call(i.element,i)),u(a)&&""!==o.trim(a)){switch(t=o('<div class="fancyboxPop-title fancyboxPop-title-'+r+'-wrap">'+a+"</div>"),r){case"inside":n=s.skin;break;case"outside":n=s.wrap;break;case"over":n=s.inner;break;default:n=s.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(g(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},o.fn.fancyboxPop=function(e){var t,n=o(this),i=this.selector||"",a=function(a){var r,l,p=o(this).blur(),c=t;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||p.is(".fancyboxPop-wrap")||(r=e.groupAttr||"data-fancyboxPop-group",l=p.attr(r),l||(r="rel",l=p.get(0)[r]),l&&""!==l&&"nofollow"!==l&&(p=i.length?o(i):n,p=p.filter("["+r+'="'+l+'"]'),c=p.index(this)),e.index=c,s.open(p,e)!==!1&&a.preventDefault())};return e=e||{},t=e.index||0,i&&e.live!==!1?r.undelegate(i,"click.fb-start").delegate(i+":not('.fancyboxPop-item, .fancyboxPop-nav')","click.fb-start",a):n.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancyboxPop-start=1]").trigger("click"),this},r.ready(function(){var t,a;o.scrollbarWidth===n&&(o.scrollbarWidth=function(){var e=o('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),o.support.fixedPosition===n&&(o.support.fixedPosition=function(){var e=o('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),o.extend(s.defaults,{scrollbarWidth:o.scrollbarWidth(),fixed:o.support.fixedPosition,parent:o("body")}),t=o(e).width(),i.addClass("fancyboxPop-lock-test"),a=o(e).width(),i.removeClass("fancyboxPop-lock-test"),o("<style type='text/css'>.fancyboxPop-margin{margin-right:"+(a-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),o(jQuery))}();
